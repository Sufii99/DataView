<div class="min-h-screen flex items-start justify-center bg-gray-100 py-10 px-4 pt-25">
  <div class="w-full max-w-4xl bg-white shadow-md rounded-2xl p-8">
    <h1 class="text-2xl font-semibold text-gray-800 mb-6">Panel de administración</h1>

    <%= form_with url: admin_users_path, method: :get, local: true, class: "flex items-center gap-2" do %>
        <%= text_field_tag :q, params[:q], placeholder: "Buscar por email", class: "rounded-lg border-gray-300 px-3 py-1 text-sm" %>
        <%= submit_tag "Buscar", class: "bg-blue-600 text-white text-sm px-4 py-1 rounded-lg hover:bg-blue-700 transition" %>
    <% end %>

    <table class="w-full text-left border-collapse">
      <thead>
        <tr class="bg-gray-100 text-gray-600 uppercase text-sm leading-normal">
          <th class="py-3 px-4">Email</th>
          <th class="py-3 px-4 text-center">Rol</th>
          <th class="py-3 px-4 text-center">Acciones</th>
        </tr>
      </thead>
      <tbody class="text-gray-700 text-sm divide-y divide-gray-200">
        <% @users.each do |user| %>
          <tr class="hover:bg-gray-50">
            <td class="py-3 px-4"><%= user.email %></td>
            <td class="py-3 px-4 text-center">
              <% if user.admin? %>
                <span class="inline-block px-2 py-1 text-xs font-medium bg-green-100 text-green-700 rounded-full">Admin</span>
              <% else %>
                <span class="inline-block px-2 py-1 text-xs font-medium bg-gray-200 text-gray-700 rounded-full">Usuario</span>
              <% end %>
            </td>
            <td class="py-3 px-4 text-center">
              <% unless user == current_user %>
                <%= button_to "Eliminar", admin_user_path(user), method: :delete,
                    data: { confirm: "¿Estás seguro de eliminar este usuario?" },
                    class: "inline-block text-sm bg-red-100 text-red-700 hover:bg-red-200 px-3 py-1 rounded-md transition" %>
              <% else %>
                <span class="text-xs text-gray-400 italic">No permitido</span>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
